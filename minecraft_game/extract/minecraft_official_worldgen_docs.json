{"raw_content": "{\n  \"data\": {\n    \"extracted_information\": \"Детальная техническая документация по генерации мира в Minecraft, включая процедурную генерацию, биомы, структуры и алгоритмы. Описаны шаги генерации мира, параметры биомов в разных измерениях (Запределье, Нижний мир, Край), механизмы формирования ландшафта (3D-шум, сплайны, пещеры от шума, водоносные горизонты, рудные жилы), а также размещение структур и особенности спавна мобов.\",\n    \"specifications\": {\n      \"procedural_generation\": {\n        \"description\": \"Алгоритмический процесс создания игровых миров, использующий случайность, алгоритмы и вручную созданные декорации. Преимущества: меньший размер файлов игры, практически бесконечные возможности геймплея.\",\n        \"world_size\": {\n          \"chunk_dimensions\": \"16x16 блоков в ширину, на всю высоту измерения\",\n          \"possible_worlds\": \"более 18 квинтиллионов (18 × 10^18)\"\n        },\n        \"randomness\": {\n          \"seed\": \"используется для генерации разных миров\",\n          \"noise_algorithms\": \"градиентные шумовые алгоритмы (например, шум Перлина) для обеспечения непрерывности и случайности ландшафта\",\n          \"octaves\": \"множественные шумовые функции с разной частотой и амплитудой суммируются для создания вариаций (холмы, долины)\"\n        }\n      },\n      \"generation_steps\": [\n        \"empty (пустой): Чанк еще не загружен или не сгенерирован.\",\n        \"structures_starts (начало структур): Расчет начальных точек для частей структур.\",\n        \"structures_references (ссылки на структуры): Хранение ссылок на соседние чанки с начальными точками структур.\",\n        \"biomes (биомы): Определение и хранение биомов (ландшафт еще не генерируется).\",\n        \"noise (шум): Размещение базовой формы ландшафта и водоемов.\",\n        \"surface (поверхность): Замена поверхности ландшафта блоками, зависящими от биома.\",\n        \"carvers (резчики): Резьба частей ландшафта и замена твердых блоков воздухом (пещеры, каньоны).\",\n        \"features (особенности): Размещение особенностей и частей структур, генерация карт высот.\",\n        \"initialize_light (инициализация освещения): Инициализация движка освещения, определение источников света.\",\n        \"light (свет): Расчет уровня освещенности блоков.\",\n        \"spawn (спавн): Спавн мобов.\",\n        \"full (полный): Генерация завершена, чанк готов к загрузке. Прото-чанк преобразуется в уровневый чанк, все отложенные обновления блоков выполняются.\"\n      },\n      \"biomes\": {\n        \"overworld\": {\n          \"parameters\": [\n            {\"name\": \"temperature\", \"description\": \"Влияет только на генерацию биомов, 5 уровней: -1.0~-0.45, -0.45~-0.15, -0.15~0.2, 0.2~0.55, 0.55~1.0.\"},\n            {\"name\": \"humidity\", \"alias\": \"vegetation\", \"description\": \"Влияет только на генерацию биомов, 5 уровней: -1.0~-0.35, -0.35~-0.1, -0.1~0.1, 0.1~0.3, 0.3~1.0.\"},\n            {\"name\": \"continentalness\", \"alias\": \"continents\", \"description\": \"Определяет между океаном/пляжем/сушей. Высокие значения соответствуют более внутренним биомам.\", \"ranges\": {\"-1.2~-1.05\": \"Поля грибов\", \"-1.05~-0.455\": \"Глубокий океан\", \"-0.455~-0.19\": \"Океан\", \"-0.19~-0.11\": \"Побережье\", \"-0.11~0.03\": \"Ближние внутренние районы\", \"0.03~0.3\": \"Средние внутренние районы\", \"0.3~1.0\": \"Дальние внутренние районы\"}},\n            {\"name\": \"erosion\", \"description\": \"Используется для определения между плоскими и горными биомами. Высокая эрозия -> плоский ландшафт. 7 уровней: -1.0~-0.78, -0.78~-0.375, -0.375~-0.2225, -0.2225~0.05, 0.05~0.45, 0.45~0.55, 0.55~1.0.\"},\n            {\"name\": \"weirdness\", \"alias\": \"ridges\", \"description\": \"Влияет на генерацию вариантов биомов и расположение пиков/долин.\", \"pv_formula\": \"1-| (3|weirdness|)-2|\", \"pv_levels\": {\"-1.0~-0.85\": \"Долины\", \"-0.85~-0.2\": \"Низкий\", \"-0.2~0.2\": \"Средний\", \"0.2~0.7\": \"Высокий\", \"0.7~1.0\": \"Пики\"}},\n            {\"name\": \"depth\", \"description\": \"Приблизительно соответствует высоте ландшафта (0 на поверхности, увеличивается на 1/128 (0.0078125) за блок вниз). Определяет наземные/пещерные биомы.\"}\n          ],\n          \"non_inland_biome_generation\": \"Не зависит от влажности, эрозии и странности. Зависит от континентальности и температуры.\",\n          \"inland_biome_generation\": \"Зависит от континентальности, эрозии и PV. Дополнительно пляжные, пустошные, срединные, плато, разрушенные биомы зависят от температуры, влажности и странности.\"\n        },\n        \"the_nether\": {\n          \"parameters\": [\n            {\"name\": \"temperature\"},\n            {\"name\": \"humidity\"},\n            {\"name\": \"offset\", \"description\": \"Всегда 0, влияет на близость к плоскости T-H.\"}\n          ],\n          \"biome_points\": [\n            {\"biome\": \"Базальтовые дельты\", \"temperature\": -0.5, \"humidity\": 0, \"offset\": 0.175},\n            {\"biome\": \"Багровый лес\", \"temperature\": 0.4, \"humidity\": 0, \"offset\": 0},\n            {\"biome\": \"Пустоши Нижнего мира\", \"temperature\": 0, \"humidity\": 0, \"offset\": 0},\n            {\"biome\": \"Долина песка душ\", \"temperature\": 0, \"humidity\": -0.5, \"offset\": 0},\n            {\"biome\": \"Искаженный лес\", \"temperature\": 0, \"humidity\": 0.5, \"offset\": 0.375}\n          ]\n        },\n        \"the_end\": {\n          \"java_edition\": {\n            \"parameter\": \"erosion\",\n            \"distance_from_origin\": {\n              \"less_than_1024_blocks\": \"Блоки находятся в Энде, биом 'The End'\",\n              \"greater_than_1024_blocks\": \"Биом определяется эрозией\"\n            },\n            \"erosion_ranges\": {\n              \"-1~-0.21875\": \"Малые острова Энда\",\n              \"-0.21875~-0.0625\": \"Пустоши Энда\",\n              \"-0.0625~0.25\": \"Средние земли Энда\",\n              \"0.25~1\": \"Нагорья Энда\"\n            }\n          },\n          \"bedrock_edition\": \"Всегда один биом: The End.\"\n        }\n      },\n      \"terrain_generation\": {\n        \"3d_noise\": {\n          \"function\": \"3D-шум Перлина\",\n          \"output\": \"плотность\",\n          \"density_threshold\": \"> 0 для твердого блока, иначе воздух\",\n          \"height_bias\": \"сжимает блоки\",\n          \"base_height\": \"база для сжатия, изменяет уровень земли\"\n        },\n        \"splines\": {\n          \"description\": \"Используются три 2D-шумовые карты для расчета смещения высоты ('offset') и коэффициента вертикального растяжения ('factor'), создавая драматические формы ландшафта (утесы, фьорды, плато).\",\n          \"parameters_influence\": {\n            \"continentalness\": \"Чем выше, тем выше средняя высота ландшафта.\",\n            \"erosion\": \"Создает большие плоские участки. Чем выше, тем ниже и ровнее ландшафт.\",\n            \"peaks_and_valleys_pv\": \"Чем выше значение PV, тем выше ландшафт. Влияет на генерацию рек и остроконечных пиков.\"\n          }\n        },\n        \"noise_caves\": {\n          \"description\": \"Часть базовой генерации ландшафта, создаются с помощью 3D-шума Перлина.\",\n          \"types\": [\n            {\"name\": \"сырные пещеры\", \"description\": \"Карманы различных размеров. Параметр 'hollowness' контролирует размер.\", \"control_parameters\": [\"frequency\", \"hollowness\", \"thickness\"]},\n            {\"name\": \"спагетти-пещеры\", \"description\": \"Длинные, узкие пещеры. Параметр 'thickness' контролирует толщину.\", \"control_parameters\": [\"frequency\", \"hollowness\", \"thickness\"]},\n            {\"name\": \"лапша-пещеры\", \"description\": \"Более тонкий и извилистый вариант спагетти-пещер (1-5 блоков в ширину). Параметр 'thickness' контролирует толщину.\", \"control_parameters\": [\"frequency\", \"hollowness\", \"thickness\"]}\n          ],\n          \"noise_pillars\": \"Генерируются внутри больших сырных пещер. 'Frequency' и 'thickness' контролируют их параметры.\"\n        },\n        \"aquifers\": {\n          \"description\": \"Системы жидкости для определения состояния жидкости в пустых областях Запределья. Без них все пустые области между уровнем моря и Y=-54 были бы заполнены водой.\",\n          \"lava_level\": \"Области ниже Y=-55 всегда заполнены лавой.\",\n          \"states\": [\n            {\"name\": \"Empty\", \"description\": \"Всегда заполнен воздухом.\"},\n            {\"name\": \"Flooded\", \"description\": \"Заполнен воздухом над уровнем моря и жидкостью ниже (как если бы водоносных горизонтов не существовало).\"},\n            {\"name\": \"Local fluid level\", \"description\": \"Выбирает локальный уровень жидкости и заполняет области ниже жидкостью, а области выше воздухом.\"}\n          ],\n          \"state_determination\": \"Зависит от шума. <0.4 = Empty, >0.8 = Flooded, иначе Local fluid level. В областях 'deep dark' (Erosion < -0.22 и Depth > 0.9) всегда 'Empty'.\",\n          \"water_vs_lava\": \"Определяется в ячейках 64x40x64 блоков по третьему шуму. Области выше Y=-10 всегда используют воду.\"\n        },\n        \"ore_veins\": {\n          \"description\": \"Генерируются только в Запределье.\",\n          \"noise_parameters\": {\n            \"toggle\": \"Определяет жилы железа (<0) или меди (>0). Активен в диапазоне Y=-60 до Y=51.\",\n            \"ridge\": \"Пропускает блок, если >0.\",\n            \"gap\": \"Определяет соотношение руды к заполнителю (10-30%).\"\n          },\n          \"raw_ore_blocks_percentage\": \"2% от не-заполнителей генерируются как блоки необработанной руды.\"\n        }\n      },\n      \"carvers\": {\n        \"types\": [\"carver caves\", \"carver canyons\"],\n        \"overworld_caves\": \"Y=-56 до Y=180, более высокая вероятность генерации при Y=-56 до Y=47.\",\n        \"nether_caves\": \"Y=0 до Y=126.\",\n        \"canyons\": \"Начальный уровень от Y=10 до Y=72.\"\n      },\n      \"structures\": {\n        \"placement_mechanism\": \"Группируются в наборы. Размещение зависит от биома, spacing, separation и frequency. В 'structures_starts' определяются начальные точки, в 'structures_references' хранятся ссылки.\",\n        \"structure_sets_java_edition\": [\n          {\"set\": \"Деревни\", \"spacing\": \"34 чанка\", \"separation\": \"8 чанков\", \"frequency\": \"По умолчанию 0 (игнорируется)\", \"required_biomes\": \"Различные наземные биомы\"},\n          {\"set\": \"Морские руины\", \"spacing\": \"16 чанков\", \"separation\": \"8 чанков\", \"frequency\": \"По умолчанию 0\", \"required_biomes\": \"Океан, глубокий океан, замерзший океан\"},\n          {\"set\": \"Лесные особняки\", \"spacing\": \"80 чанков\", \"separation\": \"20 чанков\", \"frequency\": \"По умолчанию 0\", \"required_biomes\": \"Темный дубовый лес\"},\n          {\"set\": \"Заставы разбойников\", \"spacing\": \"34 чанка\", \"separation\": \"8 чанков\", \"frequency\": \"По умолчанию 0\", \"required_biomes\": \"Различные наземные биомы\"},\n          {\"set\": \"Бастионы\", \"spacing\": \"27 чанков\", \"separation\": \"4 чанка\", \"frequency\": \"По умолчанию 0\", \"required_biomes\": \"Различные биомы Нижнего мира\"},\n          {\"set\": \"Подводные памятники\", \"spacing\": \"32 чанка\", \"separation\": \"8 чанков\", \"frequency\": \"По умолчанию 0\", \"required_biomes\": \"Глубокий океан\"},\n          {\"set\": \"Крепости\", \"spacing\": \"1 чанк (см. описание)\", \"separation\": \"1 чанк (см. описание)\", \"frequency\": \"По умолчанию 0\", \"required_biomes\": \"Любой\"}\n        ]\n      },\n      \"features\": {\n        \"decoration_steps\": [\n          \"raw_generation (сырая генерация): Малые острова Энда\",\n          \"lakes (озера): Лавовые озера\",\n          \"local_modifications (локальные модификации): Аметистовые жеоды, айсберги\",\n          \"underground_structures (подземные структуры): Испытательные камеры, зарытые сокровища, шахты, руины троп, комнаты монстров, ископаемые\",\n          \"surface_structures (наземные структуры): Все остальные структуры, пустынные колодцы, участки синего льда\",\n          \"strongholds (крепости): Не используется, крепости используют шаг 'surface_structures'\",\n          \"underground_ores (подземные руды): Рудные залежи, диски песка/гравия/глины\",\n          \"underground_decoration (подземные декорации): Зараженные блоки, гравий и блоки черного камня Нижнего мира, все рудные залежи Нижнего мира\",\n          \"fluid_springs (источники жидкости): Источники воды и лавы\",\n          \"vegetal_decoration (растительная декорация): Деревья, бамбук, кактусы, водоросли и другая наземная/океанская растительность\",\n          \"top_layer_modification (модификация верхнего слоя): Особенность 'Freeze top layer'\"\n        ],\n        \"placement_rules\": \"Каждая особенность имеет свои правила размещения, включая количество попыток размещения и место в чанке. Особенности могут размещать блоки за пределами границ текущего чанка в пределах области 3x3.\"\n      },\n      \"lighting\": \"Расчет уровней освещения для каждого блока является одним из последних шагов генерации чанка.\",\n      \"mob_spawning\": {\n        \"java_edition\": \"Один из десяти вновь сгенерированных чанков пытается сгенерировать мобов-животных (обычно пачками до 4 особей).\",\n        \"bedrock_edition\": \"Животные не спавнятся во время генерации чанков, но постоянно пытаются спавниться в рамках алгоритма экологического спавна.\",\n        \"exceptions\": \"Мобы, спавнящиеся со структурой (например, древний страж в подводных памятниках), появляются сразу при размещении структуры.\"\n      },\n      \"heightmaps\": {\n        \"java_edition\": {\n          \"pre_feature_placement\": [\"OCEAN_FLOOR_WG\", \"WORLD_SURFACE_WG\"],\n          \"post_feature_placement\": [\"OCEAN_FLOOR\", \"WORLD_SURFACE\", \"MOTION_BLOCKING\", \"MOTION_BLOCKING_NO_LEAVES\"]\n        }\n      }\n    },\n    \"pricing\": {},\n    \"features\": [\n      \"Алгоритмическая генерация мира с использованием сидов и градиентного шума (например, шум Перлина) для создания бесконечного и непрерывного ландшафта.\",\n      \"Многоступенчатый процесс генерации мира для оптимизации производительности (прото-чанки и уровневые чанки).\",\n      \"Определение биомов на основе шести параметров в 6D-пространстве для Запределья (температура, влажность, континентальность, эрозия, странность, глубина).\",\n      \"Генерация ландшафта с использованием 3D-шума для создания трехмерных форм, включая нависающие участки.\",\n      \"Использование сплайнов и параметров континентальности, эрозии, PV для формирования драматических форм ландшафта (утесы, фьорды, плато).\",\n      \"Различные типы пещер, генерируемых шумом (сырные, спагетти, лапша), с индивидуальными параметрами контроля.\",\n      \"Система водоносных горизонтов для управления жидкостями (вода, лава) в подземных пространствах.\",\n      \"Генерация рудных жил с контролируемым соотношением руды и заполнителя.\",\n      \"Механизмы 'резчиков' для создания крупных пещер и каньонов.\",\n      \"Размещение структур с помощью наборов, определяющих правила частоты, расстояния и размещения по биомам.\",\n      \"Декорирование мира в 11 отдельных шагов, включающих размещение малых островов, озер, жеод, структур, руд, источников и растительности.\",\n      \"Комплексная система освещения, рассчитываемая как один из последних этапов генерации чанка.\",\n      \"Специфические правила спавна мобов в зависимости от версии игры (Java vs Bedrock) и типа мобов (животные vs мобы структур).\"\n    ],\n    \"statistics\": {\n      \"possible_worlds\": \"более 18 × 10^18\",\n      \"overworld_biome_parameters_levels\": {\n        \"temperature\": \"5 уровней\",\n        \"humidity\": \"5 уровней\",\n        \"erosion\": \"7 уровней\"\n      },\n      \"ore_vein_filler_ratio\": \"от 10% до 30%\",\n      \"raw_ore_blocks_percentage_in_veins\": \"2%\",\n      \"mob_spawning_rate_java_edition\": \"1 из 10 новых чанков пытается сгенерировать пачки животных (до 4 особей)\"\n    },\n    \"temporal_info\": {\n      \"history_of_changes\": {\n        \"java_edition\": [\n          \"Значительные изменения в Java Edition 1.7.2\",\n          \"Значительные изменения в Java Edition 1.18\"\n        ],\n        \"bedrock_edition\": [\n          \"Значительные изменения в Pocket Edition v0.9.0 alpha\",\n          \"Значительные изменения в Bedrock Edition 1.18.0\"\n        ]\n      }\n    },\n    \"geographical_data\": {\n      \"dimensions\": [\"Overworld\", \"The Nether\", \"The End\"],\n      \"biome_types\": \"Различные биомы в каждом измерении, определяемые соответствующими параметрами.\"\n    },\n    \"references\": [\n      {\"description\": \"Minecraft terrain generation in a nutshell\", \"source\": \"Henrik Kniberg on YouTube\", \"date\": \"February 6, 2022\", \"url\": \"https://youtube.com/watch?v=CSa5O6knuwI\"},\n      {\"description\": \"2D Perlin Noise; lecture notes for CMSC 425 (Game Programming)\", \"source\": \"Dave Mount and Roger Eastman\", \"date\": \"Spring 2018\", \"url\": \"https://www.cs.umd.edu/class/spring2018/cmsc425/Lects/lect13-2d-perlin.pdf\"},\n      {\"description\": \"MC-262252 – The generation of lush caves and dripstone caves is poorly defined\", \"source\": \"Mojang Bugs\", \"url\": \"https://bugs.mojang.com/browse/MC-262252\"},\n      {\"description\": \"I get a lot of questions about how the new Minecraft noise caves work...\", \"source\": \"Henrik Kniberg on X (formerly Twitter)\", \"date\": \"February 23, 2021\", \"url\": \"https://twitter.com/henrikkniberg/status/1364265702861987841\"},\n      {\"description\": \"More information on xoroshiro128++\", \"source\": \"University of Milan (PRNG algorithm)\", \"url\": \"https://prng.di.unimi.it/\"},\n      {\"description\": \"More information on Perlin noise\", \"source\": \"Raouf Touti\", \"url\": \"https://rtouti.github.io/graphics/perlin-noise-algorithm\"}\n    ]\n  }\n}"}